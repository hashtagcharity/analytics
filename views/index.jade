extends layout

block content
  div(ng-app="hcChart",ng-controller="ChartCtrl")
    .container-fluid
      .row
        h2 Stats
        .table-responsive.col-md-4
            table.table
              tr
                td Number of users
                td {{dailyStats.numberOfUsers}}
              tr
                td Number of projects
                td {{dailyStats.numberOfProjects}}
              tr
                td Number of NGOs
                td {{dailyStats.numberOfNgos}}
              tr
                td Number of projects with at least one member
                td {{dailyStats.numberOfProjWithMinOneMember}}
                td {{dailyStats.numberOfProjWithMinOneMember*100/dailyStats.numberOfProjects}}%
              tr
                td Number of projects with at least two uploaded file
                td {{dailyStats.numberOfProjWithMinOneFile}}
                td {{dailyStats.numberOfProjWithMinOneFile*100/dailyStats.numberOfProjects}}%
              tr
                td Number of projects with at least three tasks
                td {{dailyStats.numberOfProjWithMinThreeTask}}
                td {{dailyStats.numberOfProjWithMinThreeTask*100/dailyStats.numberOfProjects}}%
              tr
                td Number of projects with at least five chat messages
                td {{dailyStats.numberOfProjWithMinFiveChatMessage}}
                td {{dailyStats.numberOfProjWithMinFiveChatMessage*100/dailyStats.numberOfProjects}}%
    .container-fluid
      .row
        div(class="row")
            div(class="col-md-4")
                input(type="text", class="form-control",datepicker, ng-model="from",placeholder="From...")
             div(class="col-md-4")
                input(type="text", class="form-control",datapicker, ng-model="to",placeholder="To...")
             div(class="col-md-4")
                input(type="button",class="btn btn-primary form-control btn-block" value="Go",ng-click="search()")
        div(class="row")
          h2 Users
          div(data-ac-chart="'bar'"  data-ac-data="userData" data-ac-config="config"  class="chart",style="width:100%;height:700px")
        div(class="row")
          h2 Project
          div(data-ac-chart="'bar'"  data-ac-data="projectData" data-ac-config="config"  class="chart",style="width:100%;height:700px")
        div(class="row")
          h2 NGO
          div(data-ac-chart="'bar'"  data-ac-data="ngoData" data-ac-config="config"  class="chart",style="width:100%;height:700px")
  .container-fluid
    .row
      .col-md-2
        h3 Top Skills
        .table-responsive
          table.table
            each skill in tops.skills
              tr
                td #{skill.name}
                td #{skill.count}
      .col-md-2
        h3 Top Companies
        .table-responsive
          table.table
            each company in tops.companies
              tr
                td #{company.name}
                td #{company.count}
      .col-md-2
        h3 Top Industries
        .table-responsive
          table.table
            each industry in tops.industries
              tr
                td #{industry.name}
                td #{industry.count}
      .col-md-2
        h3 Top Eductation
        .table-responsive
          table.table
            each ed in tops.educations
              tr
                td #{ed.name}
                td #{ed.count}
      .col-md-2
        h3 Top Countries
        .table-responsive
          table.table
            each c in tops.countries
              tr
                td #{c.name}
                td #{c.count}
    .container-fluid
      h2 Countries of registered users
      #mapdiv(style="width: 1000px; height: 450px;")

block scripts
  script(src="http://cdn.amcharts.com/lib/3/ammap.js",type="text/javascript")
  script(src="http://cdn.amcharts.com/lib/3/maps/js/worldHigh.js", type="text/javascript")
  script(src="http://cdn.amcharts.com/lib/3/themes/dark.js", type="text/javascript")
  script(src="/js/chartApp.js",type="text/javascript")
